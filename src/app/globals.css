@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Typography - Crowe Brand: Helvetica Now (Arial fallback) */
  --font-display: 'Helvetica Now Display', 'Helvetica Neue', Arial, system-ui, sans-serif;
  --font-body: 'Helvetica Now Text', 'Helvetica Neue', Arial, system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'IBM Plex Mono', Consolas, monospace;

  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  /* Transition Durations */
  --transition-duration-instant: 75ms;
  --transition-duration-fast: 150ms;
  --transition-duration-normal: 250ms;
  --transition-duration-slow: 350ms;
  --transition-duration-slower: 500ms;

  /* Transition Timing Functions */
  --transition-timing-function-ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --transition-timing-function-ease-in: cubic-bezier(0.7, 0, 0.84, 0);
  --transition-timing-function-ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  --transition-timing-function-ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Animation */
  --animate-fade-in-up: fade-in-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) backwards;

  /* Crowe Primary Colors */
  --color-crowe-amber-bright: #FFD231;
  --color-crowe-amber: #F5A800;
  --color-crowe-amber-dark: #D7761D;
  --color-crowe-indigo-bright: #003F9F;
  --color-crowe-indigo: #002E62;
  --color-crowe-indigo-dark: #011E41;

  /* Crowe Secondary Colors */
  --color-crowe-teal-bright: #16D9BC;
  --color-crowe-teal: #05AB8C;
  --color-crowe-teal-dark: #0C7876;
  --color-crowe-cyan-light: #8FE1FF;
  --color-crowe-cyan: #54C0E8;
  --color-crowe-cyan-dark: #007DA3;
  --color-crowe-blue-light: #32A8FD;
  --color-crowe-blue: #0075C9;
  --color-crowe-blue-dark: #0050AD;
  --color-crowe-violet-bright: #EA80FF;
  --color-crowe-violet: #B14FC5;
  --color-crowe-violet-dark: #612080;
  --color-crowe-coral-bright: #FF526F;
  --color-crowe-coral: #E5376B;
  --color-crowe-coral-dark: #992A5C;

  /* Neutral Tints */
  --color-tint-900: #333333;
  --color-tint-700: #4F4F4F;
  --color-tint-500: #828282;
  --color-tint-300: #BDBDBD;
  --color-tint-100: #E0E0E0;

  /* Functional Colors */
  --color-success: #05AB8C;
  --color-success-light: #16D9BC;
  --color-success-dark: #0C7876;
  --color-warning: #F5A800;
  --color-warning-light: #FFD231;
  --color-warning-dark: #D7761D;
  --color-error: #E5376B;
  --color-error-light: #FF526F;
  --color-error-dark: #992A5C;
  --color-info: #0075C9;
  --color-info-light: #32A8FD;
  --color-info-dark: #0050AD;

  /* Semantic Text Colors */
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);

  /* Semantic Surface Colors */
  --color-surface-primary: var(--surface-primary);
  --color-surface-secondary: var(--surface-secondary);
  --color-surface-elevated: var(--surface-elevated);

  /* Semantic Border Colors */
  --color-border-default: var(--border-default);
  --color-border-strong: var(--border-strong);
}

/* ══════════════════════════════════════════════════
   @layer base — ONLY :root variables, .dark variables,
   and element-level resets (*, body)
   ══════════════════════════════════════════════════ */
@layer base {
  :root {
    /* Crowe Brand Colors (CSS custom properties for var() usage) */
    --crowe-amber-bright: #FFD231;
    --crowe-amber-core: #F5A800;
    --crowe-amber-dark: #D7761D;
    --crowe-indigo-bright: #003F9F;
    --crowe-indigo-core: #002E62;
    --crowe-indigo-dark: #011E41;
    --crowe-teal-bright: #16D9BC;
    --crowe-teal-core: #05AB8C;
    --crowe-teal-dark: #0C7876;
    --crowe-cyan-light: #8FE1FF;
    --crowe-cyan-core: #54C0E8;
    --crowe-cyan-dark: #007DA3;
    --crowe-blue-light: #32A8FD;
    --crowe-blue-core: #0075C9;
    --crowe-blue-dark: #0050AD;
    --crowe-violet-bright: #EA80FF;
    --crowe-violet-core: #B14FC5;
    --crowe-violet-dark: #612080;
    --crowe-coral-bright: #FF526F;
    --crowe-coral-core: #E5376B;
    --crowe-coral-dark: #992A5C;

    /* Warm Neutral Tints */
    --crowe-white: #FFFFFF;
    --crowe-black: #000000;
    --tint-950: #1a1d2b;
    --tint-900: #2d3142;
    --tint-700: #545968;
    --tint-500: #8b90a0;
    --tint-300: #c8cbd6;
    --tint-200: #dfe1e8;
    --tint-100: #eef0f4;
    --tint-50: #f6f7fa;

    /* Spacing Scale (8px grid) */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-8: 2rem;
    --space-10: 2.5rem;
    --space-12: 3rem;
    --space-16: 4rem;
    --space-20: 5rem;
    --space-24: 6rem;

    /* Animation Timing */
    --duration-instant: 100ms;
    --duration-fast: 200ms;
    --duration-normal: 350ms;
    --duration-slow: 450ms;
    --duration-slower: 600ms;

    /* Easing Curves */
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in: cubic-bezier(0.7, 0, 0.84, 0);
    --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

    /* Z-Index Scale */
    --z-dropdown: 50;
    --z-sticky: 100;
    --z-fixed: 200;
    --z-modal-backdrop: 300;
    --z-modal: 400;
    --z-popover: 500;
    --z-tooltip: 600;

    /* Semantic Tokens (Light Mode) */
    --text-primary: #111827;
    --text-secondary: #374151;
    --text-muted: #4b5563;
    --text-disabled: #9ca3af;
    --surface-page: #f8f9fc;
    --surface-primary: #ffffff;
    --surface-secondary: #f9fafb;
    --surface-elevated: #ffffff;
    --surface-sunken: #f3f4f6;
    --surface-brand-soft: #f0f2f8;
    --surface-amber-soft: #fff8eb;
    --border-default: #e5e7eb;
    --border-strong: #d1d5db;
    --border-focus: #002E62;

    /* Indigo-Tinted Shadows */
    --shadow-xs: 0 1px 2px rgba(1, 30, 65, 0.04);
    --shadow-sm: 0 1px 3px rgba(1, 30, 65, 0.06), 0 1px 2px rgba(1, 30, 65, 0.04);
    --shadow-md: 0 4px 8px -2px rgba(1, 30, 65, 0.06), 0 2px 4px -1px rgba(1, 30, 65, 0.04);
    --shadow-lg: 0 6px 16px -4px rgba(1, 30, 65, 0.07), 0 4px 6px -2px rgba(1, 30, 65, 0.04);
    --shadow-xl: 0 12px 32px -8px rgba(1, 30, 65, 0.08), 0 8px 16px -4px rgba(1, 30, 65, 0.03);
    --shadow-card: 0 1px 3px rgba(1, 30, 65, 0.04), 0 6px 16px rgba(1, 30, 65, 0.04), 0 12px 32px rgba(1, 30, 65, 0.02);
    --shadow-card-hover: 0 2px 4px rgba(1, 30, 65, 0.06), 0 8px 24px rgba(1, 30, 65, 0.06), 0 16px 48px rgba(1, 30, 65, 0.04);
    --shadow-amber-glow: 0 4px 16px rgba(245, 168, 0, 0.20);
    --shadow-hover: 0 12px 24px rgba(0, 0, 0, 0.12);

    /* shadcn/ui Theme (Light) */
    --radius: 0.75rem;
    --background: 225 33% 98%;
    --foreground: 228 20% 22%;
    --card: 225 50% 99%;
    --card-foreground: 228 20% 22%;
    --popover: 0 0% 100%;
    --popover-foreground: 228 20% 22%;
    --primary: 215 98% 13%;
    --primary-foreground: 225 33% 97%;
    --secondary: 39 100% 48%;
    --secondary-foreground: 215 98% 13%;
    --muted: 225 20% 96%;
    --muted-foreground: 228 10% 37%;
    --accent: 39 100% 48%;
    --accent-foreground: 215 98% 13%;
    --destructive: 341 79% 56%;
    --destructive-foreground: 225 33% 97%;
    --border: 226 17% 89%;
    --input: 226 17% 89%;
    --ring: 215 100% 19%;
    --chart-1: 166 95% 34%;
    --chart-2: 197 100% 46%;
    --chart-3: 207 100% 39%;
    --chart-4: 39 100% 48%;
    --chart-5: 341 79% 56%;
    --sidebar: 215 100% 13%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 39 100% 48%;
    --sidebar-primary-foreground: 215 100% 13%;
    --sidebar-accent: 215 100% 19%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 215 100% 19%;
    --sidebar-ring: 39 100% 48%;
  }

  .dark,
  [data-theme="dark"] {
    --text-primary: #ffffff;
    --text-secondary: #e2e8f0;
    --text-muted: #cbd5e1;
    --text-disabled: #64748b;
    --surface-primary: #020c1a;
    --surface-secondary: #011E41;
    --surface-elevated: #0c2d5a;
    --surface-sunken: #010814;
    --border-default: rgba(255, 255, 255, 0.12);
    --border-strong: rgba(255, 255, 255, 0.20);
    --border-focus: #F5A800;
    --background: 215 100% 13%;
    --foreground: 0 0% 90%;
    --card: 215 100% 19%;
    --card-foreground: 0 0% 90%;
    --popover: 215 100% 19%;
    --popover-foreground: 0 0% 90%;
    --primary: 39 100% 48%;
    --primary-foreground: 215 100% 13%;
    --secondary: 215 100% 31%;
    --secondary-foreground: 0 0% 100%;
    --muted: 215 100% 19%;
    --muted-foreground: 0 0% 65%;
    --accent: 39 100% 48%;
    --accent-foreground: 215 100% 13%;
    --destructive: 341 79% 56%;
    --destructive-foreground: 0 0% 100%;
    --border: 215 100% 24%;
    --input: 215 100% 24%;
    --ring: 39 100% 48%;
    --chart-1: 166 95% 43%;
    --chart-2: 197 100% 62%;
    --chart-3: 207 100% 55%;
    --chart-4: 43 100% 60%;
    --chart-5: 341 100% 66%;
    --sidebar: 215 100% 10%;
    --sidebar-foreground: 0 0% 100%;
    --sidebar-primary: 39 100% 48%;
    --sidebar-primary-foreground: 215 100% 13%;
    --sidebar-accent: 215 100% 19%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: rgba(255, 255, 255, 0.1);
    --sidebar-ring: 39 100% 48%;
  }

  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground font-body;
  }
}

/* ══════════════════════════════════════════════════
   @layer components — Reusable component classes.
   This layer has HIGHER priority than @layer base
   but LOWER than @layer utilities (Tailwind's classes).
   ══════════════════════════════════════════════════ */
@layer components {
  /* ── Gradient Backgrounds (ACTIVE — used by layouts) ── */

  .bg-soft-gradient {
    background: linear-gradient(180deg, #f8f9fc 0%, #f0f2f8 100%);
  }

  .dark .bg-soft-gradient,
  .dark.bg-soft-gradient {
    background: linear-gradient(
      135deg,
      #020c1a 0%,
      #011E41 25%,
      #0c2d5a 50%,
      #011E41 75%,
      #020c1a 100%
    );
  }

  .bg-cool-gradient {
    background: linear-gradient(
      135deg,
      #f8f9fc 0%,
      #f0f2f8 50%,
      #eef0f4 100%
    );
  }

  .dark .bg-cool-gradient,
  .dark.bg-cool-gradient {
    background: linear-gradient(
      135deg,
      #020c1a 0%,
      #0c2d5a 50%,
      #011E41 100%
    );
  }

  /* ── Scrollbar Utilities (ACTIVE — used by scrollable-table) ── */

  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #d1d5db;
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: #9ca3af;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #4b5563;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: #6b7280;
  }

  .scroll-always {
    overflow: auto !important;
  }

  .scroll-always::-webkit-scrollbar {
    display: block !important;
  }

  /* ── Layout Utilities ── */

  .page-container {
    width: 100%;
    max-width: 80rem;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
  }

  @media (min-width: 640px) {
    .page-container {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }

  @media (min-width: 1024px) {
    .page-container {
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  .card-grid {
    display: grid;
    gap: 1.5rem;
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .card-grid { grid-template-columns: repeat(2, 1fr); }
  }

  @media (min-width: 1024px) {
    .card-grid { grid-template-columns: repeat(3, 1fr); }
  }

  @media (min-width: 1280px) {
    .card-grid { grid-template-columns: repeat(4, 1fr); }
  }

  .stat-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(2, 1fr);
  }

  @media (min-width: 1024px) {
    .stat-grid { grid-template-columns: repeat(4, 1fr); }
  }

  .form-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
  }

  @media (min-width: 768px) {
    .form-grid { grid-template-columns: repeat(2, 1fr); }
  }

  /* ── Animation Keyframes ── */

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes amber-pulse {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(245, 168, 0, 0.4);
    }
    50% {
      box-shadow: 0 0 0 12px rgba(245, 168, 0, 0);
    }
  }

  /* ── Reduced Motion ── */

  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}
